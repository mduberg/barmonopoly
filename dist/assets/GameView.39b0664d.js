import{_ as A,o as f,c as v,a as k,b as c,t as D,p as nt,d as st,e as it,s as w,f as F,g as N,h as V,i as ct,I as ht,r as G,j as O,w as H,T as P,F as mt,k as Y,l as j}from"./index.f4e8a43c.js";const R=[{id:0,name:"G\xE5",description:"Avl\xF6ning! Laget tilldelas ett po\xE4ng.",color:"none",symbol:"arrow.png",price:"none"},{id:1,name:"V\xE4sterl\xE5nggatan",description:"\xC5k dit och ta en enhet!",color:"brown",symbol:"none",price:"1.200 po\xE4ng"},{id:2,name:"Allm\xE4nning",description:"Hitta en park och ta en hetssnus.",color:"none",symbol:"none",price:"none"},{id:3,name:"Hornsgatan",description:"\xC5k dit och ta en enhet!",color:"brown",symbol:"none",price:"1.200 po\xE4ng"},{id:4,name:"Betala inkomstskatt",description:"Ibland m\xE5ste man bara betala.",color:"none",symbol:"none",price:"none"},{id:5,name:"S\xF6dra station",description:"\xC5k dit och ta en enhet!",color:"none",symbol:"train.png",price:"4.000 po\xE4ng"},{id:6,name:"Folkungagatan",description:"\xC5k dit och ta en enhet!",color:"blue",symbol:"none",price:"2.000 po\xE4ng"},{id:7,name:"Chans",description:"none",color:"none",symbol:"questionmark.png",price:"none"},{id:8,name:"G\xF6tgatan",description:"\xC5k dit och ta en enhet!",color:"blue",symbol:"none",price:"2.000 po\xE4ng"},{id:9,name:"Ringv\xE4gen",description:"\xC5k dit och ta en enhet!",color:"blue",symbol:"none",price:"2.400 po\xE4ng"},{id:10,name:"P\xE5 bes\xF6k i f\xE4ngelset",description:"none",color:"none",symbol:"none",price:"none"},{id:11,name:"S:t Eriksgatan",description:"\xC5k dit och ta en enhet!",color:"pink",symbol:"none",price:"2.800 po\xE4ng"},{id:12,name:"Elverket",description:"none",color:"none",symbol:"none",price:"3.000 po\xE4ng"},{id:13,name:"Odengatan",description:"\xC5k dit och ta en enhet!",color:"pink",symbol:"none",price:"2.800 po\xE4ng"},{id:14,name:"Valhallav\xE4gen",description:"\xC5k dit och ta en enhet!",color:"pink",symbol:"none",price:"3.200 po\xE4ng"},{id:15,name:"\xD6stra station",description:"\xC5k dit och ta en enhet!",color:"none",symbol:"train.png",price:"4.000 po\xE4ng"},{id:16,name:"Sturegatan",description:"\xC5k dit och ta en enhet!",color:"orange",symbol:"none",price:"3.600 po\xE4ng"},{id:17,name:"Allm\xE4nning",description:"Hitta en park och ta en hetssnus.",color:"none",symbol:"none",price:"none"},{id:18,name:"Karlav\xE4gen",description:"\xC5k dit och ta en enhet!",color:"orange",symbol:"none",price:"3.600 po\xE4ng"},{id:19,name:"Narvav\xE4gen",description:"\xC5k dit och ta en enhet!",color:"orange",symbol:"none",price:"4.000 po\xE4ng"},{id:20,name:"Fri parkering",description:"none",color:"none",symbol:"redcar.png",price:"none"},{id:21,name:"Strandv\xE4gen",description:"\xC5k dit och ta en enhet!",color:"red",symbol:"none",price:"4.400 po\xE4ng"},{id:22,name:"Chans",description:"none",color:"none",symbol:"questionmark.png",price:"none"},{id:23,name:"Kungstr\xE4dg\xE5rden",description:"\xC5k dit och ta en enhet!",color:"red",symbol:"none",price:"4.400 po\xE4ng"},{id:24,name:"Hamngatan",description:"\xC5k dit och ta en enhet!",color:"red",symbol:"none",price:"4.800 po\xE4ng"},{id:25,name:"Centralstationen",description:"\xC5k dit och ta en enhet!",color:"none",symbol:"train.png",price:"4.000 po\xE4ng"},{id:26,name:"Vasagatan",description:"\xC5k dit och ta en enhet!",color:"yellow",symbol:"none",price:"5.200 po\xE4ng"},{id:27,name:"Kungsgatan",description:"\xC5k dit och ta en enhet!",color:"yellow",symbol:"none",price:"5.200 po\xE4ng"},{id:28,name:"Vattenledningsverket",description:"Ta ett glas vatten.",color:"yellow",symbol:"hose.png",price:"3.000 po\xE4ng"},{id:29,name:"Stureplan",description:"\xC5k dit och ta en enhet!",color:"yellow",symbol:"none",price:"5.600 po\xE4ng"},{id:30,name:"G\xE5 i f\xE4ngelse",description:"none",color:"none",symbol:"none",price:"none"},{id:31,name:"Gustav Adolfs Torg",description:"\xC5k dit och ta en enhet!",color:"green",symbol:"none",price:"6.000 po\xE4ng"},{id:32,name:"Drottninggatan",description:"\xC5k dit och ta en enhet!",color:"green",symbol:"none",price:"4.000 po\xE4ng"},{id:33,name:"Allm\xE4nning",description:"Hitta en park och ta en hetssnus.",color:"none",symbol:"none",price:"none"},{id:34,name:"Diplomatstaden",description:"\xC5k dit och ta en enhet!",color:"green",symbol:"none",price:"6.400 po\xE4ng"},{id:35,name:"Norra station",description:"\xC5k dit och ta en enhet!",color:"none",symbol:"train.png",price:"4.000 po\xE4ng"},{id:36,name:"Chans",description:"none",color:"none",symbol:"questionmark.png",price:"none"},{id:37,name:"Centrum",description:"\xC5k dit och ta en enhet!",color:"darkblue",symbol:"none",price:"7.000 po\xE4ng"},{id:38,name:"Betala lyxskatt",description:"None",color:"darkblue",symbol:"none",price:"2.000 po\xE4ng"},{id:39,name:"Norrmalmstorg",description:"\xC5k dit och ta en enhet!",color:"darkblue",symbol:"none",price:"8.000 po\xE4ng"}],X=[{text:"G\xE5 vidare till Hamngatan, d\xE4r m\xE5ste ni ta en barfota selfie och bes\xF6ka en bar.",points:"6.100"},{text:"Det \xE4r extrapris p\xE5 Gr\xF6naj\xE4garn, en ub\xE5t var!",points:"5.400"},{text:"Tidsresa! Drick en mj\xF6d p\xE5 Aifur. H\xE4lsa e-type.",points:"2.100"},{text:"Fullborda ett parti biljard p\xE5 valfritt biljardst\xE4lle. OM det \xE4r f\xF6r l\xE5ng k\xF6 p\xE5 ett bord kan ni ist\xE4llet v\xE4lja att spendera 15 minuter i baren p\xE5 biljardst\xE4llet. ",points:"4.400"},{text:"N\xE4sta destination \xE4r drycken ni ska f\xF6rt\xE4ra vin (eller alkoholfritt vin). Valfri Hirschen, Retro eller Lionbar.",points:"6.700"},{text:"Ta en selfie med en fr\xE4mling, p\xE5 Wokhouse. Sedan f\xE5r ni best\xE4lla n\xE5t i baren s\xE5klart!",points:"7.100"},{text:"\xC5k till Brother Tuck i Skanstull och best\xE4ll en fernet. ",points:"5.900"},{text:"Ingen i laget f\xE5r ha p\xE5 sig sina egna skor under n\xE4sta resa, l\xF6s det hur ni vill. \xC5k till Big Ben Pub p\xE5 Folkungagatan.",points:"9.000"},{text:"Ni \xE4r \xF6lsnobbar! \xE5k till Bierhaus och best\xE4ll en varsin Weissbier.",points:"5.700"},{text:"Varannan... ...folk\xF6l? K\xF6p en folk\xF6l p\xE5 valfri ICA/7-eleven och konsumera p\xE5 en valfri parkb\xE4nk.",points:"1.300"},{text:"N\xE4sta resa f\xE5r ingen i laget yttra ett enda ord, inte ens i best\xE4llningen. Varje yttrat ord ger -500 po\xE4ng.",points:"6.600"},{text:"Ring till bullens: 08-61525612. Kolla l\xE4get. \xC5k sen till Kloster p\xE5 Hornsgatan.",points:"8.800"},{text:"\xC5k till Bananas p\xE5 Katarina Bangata och fr\xE5ga efter en banandrink. Ta inte nej som svar, ni M\xC5STE ha en banandrink.",points:"4.400"}],pt="/assets/train.4877bf32.png",gt="/assets/questionmark.abb7b63b.png";const ut={name:"Gatukort",props:{streetindex:Number,onClose:Function},data(){return{name:R[this.streetindex].name.toUpperCase(),description:R[this.streetindex].description,cardColor:R[this.streetindex].color,symbol:R[this.streetindex].symbol,price:R[this.streetindex].price,trainStation:!1,chance:!1,chanceText:""}},methods:{setColor(){let e="rgb(78, 10, 5)",t="rgb(70, 157, 225)",n="rgb(232, 51, 116)",o="rgb(239, 137, 81)",a="rgb(233, 51, 48)",i="rgb(251, 230, 83)",r="rgb(46, 108, 39)",p="rgb(0, 3, 82)";document.getElementById("topfield"),this.cardColor=="brown"?document.getElementById("topfield").style.backgroundColor=e:this.cardColor=="blue"?document.getElementById("topfield").style.backgroundColor=t:this.cardColor=="pink"?document.getElementById("topfield").style.backgroundColor=n:this.cardColor=="orange"?document.getElementById("topfield").style.backgroundColor=o:this.cardColor=="red"?document.getElementById("topfield").style.backgroundColor=a:this.cardColor=="yellow"?document.getElementById("topfield").style.backgroundColor=i:this.cardColor=="green"?document.getElementById("topfield").style.backgroundColor=r:this.cardColor=="darkblue"&&(document.getElementById("topfield").style.backgroundColor=p)},assignChanceText(){let e=Math.floor(Math.random()*X.length);this.chanceText=X[e].text,this.price=X[e].points},prepareForClose(){for(var e="",t=0;t<this.price.length;t++)console.log(this.price.charAt(t)),isNaN(this.price.charAt(t))||(e=e+this.price.charAt(t));this.onClose(parseInt(e))}},mounted:function(){this.setColor(),console.log("symbol:",this.symbol),this.symbol=="train.png"?this.trainStation=!0:this.symbol=="questionmark.png"&&(this.chance=!0,this.assignChanceText())}},ft={class:"card"},bt={key:0,id:"topfield"},vt={key:1,style:{width:"100px",margin:"5px auto"},src:pt},_t={key:2,style:{"margin-top":"0px"}},yt={key:3,style:{"margin-top":"40px"}},xt={key:4,style:{width:"50px",margin:"5px auto"},src:gt},wt={key:5,style:{width:"160px","font-size":"11px",left:"3px",top:"6px"}},Ft={key:6};function kt(e,t,n,o,a,i){return f(),v("div",ft,[this.symbol=="none"?(f(),v("div",bt)):k("",!0),c("h1",null,D(this.name),1),this.trainStation?(f(),v("img",vt)):k("",!0),this.chance!=!0&&this.trainStation?(f(),v("h2",_t,D(a.description),1)):k("",!0),this.chance!=!0&&!this.trainStation?(f(),v("h2",yt,D(a.description),1)):k("",!0),this.chance?(f(),v("img",xt)):k("",!0),this.chance?(f(),v("h2",wt,D(a.chanceText),1)):k("",!0),this.chance?k("",!0):(f(),v("h3",Ft,D(a.price),1)),c("button",{onClick:t[0]||(t[0]=r=>i.prepareForClose()),style:{position:"absolute",margin:"210px 29px","text-align":"center",width:"110px","border-radius":"4px","border-style":"solid","border-color":"black"},type:"button",class:"btn btn-success"},"Avklarat")])}const It=A(ut,[["render",kt],["__scopeId","data-v-0f8d3c5f"]]);var I=null;try{I=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function m(e,t,n){this.low=e|0,this.high=t|0,this.unsigned=!!n}m.prototype.__isLong__;Object.defineProperty(m.prototype,"__isLong__",{value:!0});function y(e){return(e&&e.__isLong__)===!0}m.isLong=y;var K={},J={};function M(e,t){var n,o,a;return t?(e>>>=0,(a=0<=e&&e<256)&&(o=J[e],o)?o:(n=h(e,(e|0)<0?-1:0,!0),a&&(J[e]=n),n)):(e|=0,(a=-128<=e&&e<128)&&(o=K[e],o)?o:(n=h(e,e<0?-1:0,!1),a&&(K[e]=n),n))}m.fromInt=M;function S(e,t){if(isNaN(e))return t?B:E;if(t){if(e<0)return B;if(e>=at)return dt}else{if(e<=-tt)return _;if(e+1>=tt)return rt}return e<0?S(-e,t).neg():h(e%q|0,e/q|0,t)}m.fromNumber=S;function h(e,t,n){return new m(e,t,n)}m.fromBits=h;var W=Math.pow;function z(e,t,n){if(e.length===0)throw Error("empty string");if(e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return E;if(typeof t=="number"?(n=t,t=!1):t=!!t,n=n||10,n<2||36<n)throw RangeError("radix");var o;if((o=e.indexOf("-"))>0)throw Error("interior hyphen");if(o===0)return z(e.substring(1),t,n).neg();for(var a=S(W(n,8)),i=E,r=0;r<e.length;r+=8){var p=Math.min(8,e.length-r),b=parseInt(e.substring(r,r+p),n);if(p<8){var d=S(W(n,p));i=i.mul(d).add(S(b))}else i=i.mul(a),i=i.add(S(b))}return i.unsigned=t,i}m.fromString=z;function T(e,t){return typeof e=="number"?S(e,t):typeof e=="string"?z(e,t):h(e.low,e.high,typeof t=="boolean"?t:e.unsigned)}m.fromValue=T;var Q=1<<16,St=1<<24,q=Q*Q,at=q*q,tt=at/2,et=M(St),E=M(0);m.ZERO=E;var B=M(0,!0);m.UZERO=B;var $=M(1);m.ONE=$;var ot=M(1,!0);m.UONE=ot;var Z=M(-1);m.NEG_ONE=Z;var rt=h(-1,2147483647,!1);m.MAX_VALUE=rt;var dt=h(-1,-1,!0);m.MAX_UNSIGNED_VALUE=dt;var _=h(0,-2147483648,!1);m.MIN_VALUE=_;var s=m.prototype;s.toInt=function(){return this.unsigned?this.low>>>0:this.low};s.toNumber=function(){return this.unsigned?(this.high>>>0)*q+(this.low>>>0):this.high*q+(this.low>>>0)};s.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(_)){var n=S(t),o=this.div(n),a=o.mul(n).sub(this);return o.toString(t)+a.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var i=S(W(t,6),this.unsigned),r=this,p="";;){var b=r.div(i),d=r.sub(b.mul(i)).toInt()>>>0,l=d.toString(t);if(r=b,r.isZero())return l+p;for(;l.length<6;)l="0"+l;p=""+l+p}};s.getHighBits=function(){return this.high};s.getHighBitsUnsigned=function(){return this.high>>>0};s.getLowBits=function(){return this.low};s.getLowBitsUnsigned=function(){return this.low>>>0};s.getNumBitsAbs=function(){if(this.isNegative())return this.eq(_)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,n=31;n>0&&(t&1<<n)==0;n--);return this.high!=0?n+33:n+1};s.isZero=function(){return this.high===0&&this.low===0};s.eqz=s.isZero;s.isNegative=function(){return!this.unsigned&&this.high<0};s.isPositive=function(){return this.unsigned||this.high>=0};s.isOdd=function(){return(this.low&1)===1};s.isEven=function(){return(this.low&1)===0};s.equals=function(t){return y(t)||(t=T(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low};s.eq=s.equals;s.notEquals=function(t){return!this.eq(t)};s.neq=s.notEquals;s.ne=s.notEquals;s.lessThan=function(t){return this.comp(t)<0};s.lt=s.lessThan;s.lessThanOrEqual=function(t){return this.comp(t)<=0};s.lte=s.lessThanOrEqual;s.le=s.lessThanOrEqual;s.greaterThan=function(t){return this.comp(t)>0};s.gt=s.greaterThan;s.greaterThanOrEqual=function(t){return this.comp(t)>=0};s.gte=s.greaterThanOrEqual;s.ge=s.greaterThanOrEqual;s.compare=function(t){if(y(t)||(t=T(t)),this.eq(t))return 0;var n=this.isNegative(),o=t.isNegative();return n&&!o?-1:!n&&o?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1};s.comp=s.compare;s.negate=function(){return!this.unsigned&&this.eq(_)?_:this.not().add($)};s.neg=s.negate;s.add=function(t){y(t)||(t=T(t));var n=this.high>>>16,o=this.high&65535,a=this.low>>>16,i=this.low&65535,r=t.high>>>16,p=t.high&65535,b=t.low>>>16,d=t.low&65535,l=0,g=0,u=0,x=0;return x+=i+d,u+=x>>>16,x&=65535,u+=a+b,g+=u>>>16,u&=65535,g+=o+p,l+=g>>>16,g&=65535,l+=n+r,l&=65535,h(u<<16|x,l<<16|g,this.unsigned)};s.subtract=function(t){return y(t)||(t=T(t)),this.add(t.neg())};s.sub=s.subtract;s.multiply=function(t){if(this.isZero())return E;if(y(t)||(t=T(t)),I){var n=I.mul(this.low,this.high,t.low,t.high);return h(n,I.get_high(),this.unsigned)}if(t.isZero())return E;if(this.eq(_))return t.isOdd()?_:E;if(t.eq(_))return this.isOdd()?_:E;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(et)&&t.lt(et))return S(this.toNumber()*t.toNumber(),this.unsigned);var o=this.high>>>16,a=this.high&65535,i=this.low>>>16,r=this.low&65535,p=t.high>>>16,b=t.high&65535,d=t.low>>>16,l=t.low&65535,g=0,u=0,x=0,U=0;return U+=r*l,x+=U>>>16,U&=65535,x+=i*l,u+=x>>>16,x&=65535,x+=r*d,u+=x>>>16,x&=65535,u+=a*l,g+=u>>>16,u&=65535,u+=i*d,g+=u>>>16,u&=65535,u+=r*b,g+=u>>>16,u&=65535,g+=o*l+a*d+i*b+r*p,g&=65535,h(x<<16|U,g<<16|u,this.unsigned)};s.mul=s.multiply;s.divide=function(t){if(y(t)||(t=T(t)),t.isZero())throw Error("division by zero");if(I){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var n=(this.unsigned?I.div_u:I.div_s)(this.low,this.high,t.low,t.high);return h(n,I.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?B:E;var o,a,i;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return B;if(t.gt(this.shru(1)))return ot;i=B}else{if(this.eq(_)){if(t.eq($)||t.eq(Z))return _;if(t.eq(_))return $;var r=this.shr(1);return o=r.div(t).shl(1),o.eq(E)?t.isNegative()?$:Z:(a=this.sub(t.mul(o)),i=o.add(a.div(t)),i)}else if(t.eq(_))return this.unsigned?B:E;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=E}for(a=this;a.gte(t);){o=Math.max(1,Math.floor(a.toNumber()/t.toNumber()));for(var p=Math.ceil(Math.log(o)/Math.LN2),b=p<=48?1:W(2,p-48),d=S(o),l=d.mul(t);l.isNegative()||l.gt(a);)o-=b,d=S(o,this.unsigned),l=d.mul(t);d.isZero()&&(d=$),i=i.add(d),a=a.sub(l)}return i};s.div=s.divide;s.modulo=function(t){if(y(t)||(t=T(t)),I){var n=(this.unsigned?I.rem_u:I.rem_s)(this.low,this.high,t.low,t.high);return h(n,I.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))};s.mod=s.modulo;s.rem=s.modulo;s.not=function(){return h(~this.low,~this.high,this.unsigned)};s.and=function(t){return y(t)||(t=T(t)),h(this.low&t.low,this.high&t.high,this.unsigned)};s.or=function(t){return y(t)||(t=T(t)),h(this.low|t.low,this.high|t.high,this.unsigned)};s.xor=function(t){return y(t)||(t=T(t)),h(this.low^t.low,this.high^t.high,this.unsigned)};s.shiftLeft=function(t){return y(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?h(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):h(0,this.low<<t-32,this.unsigned)};s.shl=s.shiftLeft;s.shiftRight=function(t){return y(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?h(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):h(this.high>>t-32,this.high>=0?0:-1,this.unsigned)};s.shr=s.shiftRight;s.shiftRightUnsigned=function(t){if(y(t)&&(t=t.toInt()),t&=63,t===0)return this;var n=this.high;if(t<32){var o=this.low;return h(o>>>t|n<<32-t,n>>>t,this.unsigned)}else return t===32?h(n,0,this.unsigned):h(n>>>t-32,0,this.unsigned)};s.shru=s.shiftRightUnsigned;s.shr_u=s.shiftRightUnsigned;s.toSigned=function(){return this.unsigned?h(this.low,this.high,!1):this};s.toUnsigned=function(){return this.unsigned?this:h(this.low,this.high,!0)};s.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()};s.toBytesLE=function(){var t=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]};s.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};m.fromBytes=function(t,n,o){return o?m.fromBytesLE(t,n):m.fromBytesBE(t,n)};m.fromBytesLE=function(t,n){return new m(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)};m.fromBytesBE=function(t,n){return new m(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};const Et={name:"Minimap",props:{team1coords:Array,team2coords:Array,hideFunc:Function},data(){return{map:null,marker1:null,marker2:null}},methods:{},mounted(){console.log("map mounted",this.team1coords);let e=Math.min(window.innerWidth,window.innerHeight);var t;e<550&&(t=12),e>=550&&(t=13);let n={center:[59.33,18.0698],zoomSnap:0,zoom:t,zoomControl:!1,boxZoom:!1,doubleClickZoom:!1,dragging:!1},o=new L.map("map",n),a=new L.TileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png");o.addLayer(a);var i=L.icon({iconUrl:"/src/assets/stryk2.png",iconSize:[40,40],iconAnchor:[20,20]}),r=L.icon({iconUrl:"/src/assets/fingerborg2.png",iconSize:[40,40],iconAnchor:[20,20]});this.marker1=L.marker(this.team1coords,{icon:i}).addTo(o),this.marker2=L.marker(this.team2coords,{icon:r}).addTo(o)},watch:{team1coords(e){this.marker1.setLatLng(e)},team2coords(e){this.marker2.setLatLng(e)}}},lt=e=>(nt("data-v-bbe9ba9b"),e=e(),st(),e),Tt={id:"mapFrame"},Nt=lt(()=>c("span",{style:{color:"red",top:"1px",right:"3px","font-weight":"1000"},class:"material-symbols-outlined"}," close ",-1)),Dt=[Nt],Ct=lt(()=>c("div",{id:"map"},null,-1));function Bt(e,t,n,o,a,i){return f(),v("div",Tt,[c("button",{type:"0",class:"btn btn-outline-secondary btn-sm",style:{"background-color":"white",position:"absolute",top:"7px",right:"8px","z-index":"990",height:"35px",width:"35px"},onClick:t[0]||(t[0]=(...r)=>n.hideFunc&&n.hideFunc(...r))},Dt),Ct])}const Mt=A(Et,[["render",Bt],["__scopeId","data-v-bbe9ba9b"]]);const Lt={name:"Dice",props:{randomval:Number},data(){return{}},methods:{startDicing(){var e=document.getElementById("cube");this.randomval==1&&(e.style.transform="rotateX("+8*90+"deg) rotateY("+4*90+"deg)"),this.randomval==2&&(e.style.transform="rotateX("+2*90+"deg) rotateY("+16*90+"deg)"),this.randomval==3&&(e.style.transform="rotateX("+6*90+"deg) rotateY("+5*90+"deg)"),this.randomval==4&&(e.style.transform="rotateX("+8*90+"deg) rotateY("+5*90+"deg)"),this.randomval==5&&(e.style.transform="rotateX("+3*90+"deg) rotateY("+12*90+"deg)"),this.randomval==6&&(e.style.transform="rotateX("+5*90+"deg) rotateY("+16*90+"deg)")}},mounted:function(){console.log("k\xF6r bara!"),setTimeout(()=>{this.startDicing()},100)}},$t={class:"container"},qt=it('<div id="cube" data-v-2e15529d><div class="front" data-v-2e15529d><span class="dot dot1" data-v-2e15529d></span></div><div class="back" data-v-2e15529d><span class="dot dot1" data-v-2e15529d></span><span class="dot dot2" data-v-2e15529d></span></div><div class="right" data-v-2e15529d><span class="dot dot1" data-v-2e15529d></span><span class="dot dot2" data-v-2e15529d></span><span class="dot dot3" data-v-2e15529d></span></div><div class="left" data-v-2e15529d><span class="dot dot1" data-v-2e15529d></span><span class="dot dot2" data-v-2e15529d></span><span class="dot dot3" data-v-2e15529d></span><span class="dot dot4" data-v-2e15529d></span></div><div class="top" data-v-2e15529d><span class="dot dot1" data-v-2e15529d></span><span class="dot dot2" data-v-2e15529d></span><span class="dot dot3" data-v-2e15529d></span><span class="dot dot4" data-v-2e15529d></span><span class="dot dot5" data-v-2e15529d></span></div><div class="bottom" data-v-2e15529d><span class="dot dot1" data-v-2e15529d></span><span class="dot dot2" data-v-2e15529d></span><span class="dot dot3" data-v-2e15529d></span><span class="dot dot4" data-v-2e15529d></span><span class="dot dot5" data-v-2e15529d></span><span class="dot dot6" data-v-2e15529d></span></div></div>',1),Ot=[qt];function Rt(e,t,n,o,a,i){return f(),v("section",$t,Ot)}const At=A(Lt,[["render",Rt],["__scopeId","data-v-2e15529d"]]);const Ut={name:"Dice2",props:{randomval:Number},data(){return{}},methods:{startDicing(){var e=document.getElementById("cube2");this.randomval==1&&(e.style.transform="rotateX("+8*90+"deg) rotateY("+4*90+"deg)"),this.randomval==2&&(e.style.transform="rotateX("+2*90+"deg) rotateY("+16*90+"deg)"),this.randomval==3&&(e.style.transform="rotateX("+6*90+"deg) rotateY("+5*90+"deg)"),this.randomval==4&&(e.style.transform="rotateX("+8*90+"deg) rotateY("+5*90+"deg)"),this.randomval==5&&(e.style.transform="rotateX("+3*90+"deg) rotateY("+12*90+"deg)"),this.randomval==6&&(e.style.transform="rotateX("+5*90+"deg) rotateY("+16*90+"deg)")}},mounted:function(){console.log("k\xF6r bara!"),setTimeout(()=>{this.startDicing()},100)}},Vt={class:"container"},Gt=it('<div class="front" data-v-ab82c904><span class="dot dot1" data-v-ab82c904></span></div><div class="back" data-v-ab82c904><span class="dot dot1" data-v-ab82c904></span><span class="dot dot2" data-v-ab82c904></span></div><div class="right" data-v-ab82c904><span class="dot dot1" data-v-ab82c904></span><span class="dot dot2" data-v-ab82c904></span><span class="dot dot3" data-v-ab82c904></span></div><div class="left" data-v-ab82c904><span class="dot dot1" data-v-ab82c904></span><span class="dot dot2" data-v-ab82c904></span><span class="dot dot3" data-v-ab82c904></span><span class="dot dot4" data-v-ab82c904></span></div><div class="top" data-v-ab82c904><span class="dot dot1" data-v-ab82c904></span><span class="dot dot2" data-v-ab82c904></span><span class="dot dot3" data-v-ab82c904></span><span class="dot dot4" data-v-ab82c904></span><span class="dot dot5" data-v-ab82c904></span></div><div class="bottom" data-v-ab82c904><span class="dot dot1" data-v-ab82c904></span><span class="dot dot2" data-v-ab82c904></span><span class="dot dot3" data-v-ab82c904></span><span class="dot dot4" data-v-ab82c904></span><span class="dot dot5" data-v-ab82c904></span><span class="dot dot6" data-v-ab82c904></span></div>',6),Wt=[Gt];function Ht(e,t,n,o,a,i){return f(),v("section",Vt,[c("div",{id:"cube2",onClick:t[0]||(t[0]=r=>this.startDicing())},Wt)])}const Pt=A(Ut,[["render",Ht],["__scopeId","data-v-ab82c904"]]),Xt="/assets/stryk.ccb528b5.png",Zt="/assets/fingerborg.7de83edf.png",zt="/assets/spelplan.2dc8e210.png";const Yt={name:"GameView",props:{gameId:String},data(){return{showCard:!1,showMinimap:!1,showDiceButton:!0,showDice:!1,currentMove:0,randomval1:0,randomval2:0,team1coords:[],team2coords:[],team1Index:0,team1IndexFinal:0,team2Index:0,team2IndexFinal:0,team1Score:0,team1ScoreDisplayed:0,team2Score:0,team2ScoreDisplayed:0,playerInTeam:0,inTeam:0,endDate:"",timeLeft:"0:00:00",ended:!1,showWinner:!1,winner:""}},methods:{async changeMove(){this.updateCoordinates();let e=1+Math.floor(Math.random()*6),t=1+Math.floor(Math.random()*6);[2,4,10,12,17,20,28,30,33,35,38].includes((this.currentMove+e+t)%40)&&(e-=1),this.randomval1=e,this.randomval2=t,this.showDiceButton=!1,this.showDice=!0;let o=e+t;if(this.inTeam==1){let a=(o+this.team1Index)%40;const i=w(F,"games",this.gameId);await N(i,{t1position:a})}else if(this.inTeam==2){let a=(o+this.team2Index)%40;const i=w(F,"games",this.gameId);await N(i,{t2position:a})}},moveToIndex(e,t){console.log("placera team",e,"p\xE5 index",t);let n=document.getElementById("team"+e.toString()),o="square"+t.toString();n.setAttribute("class",o)},animateMove(e,t){console.log("animatar move f\xF6r team",e," med antal steg:",t),e==1?setTimeout(()=>{setTimeout(async()=>{if(this.inTeam==1){const n=w(F,"games",this.gameId);await N(n,{t1card:!0})}},200*t);for(let n=0;n<t;n++)setTimeout(()=>{this.team1Index=(this.team1Index+1)%40,this.moveToIndex(1,this.team1Index),n==t-1&&(this.team1IndexFinal=this.team1Index)},n*200)},2e3):e==2&&setTimeout(()=>{setTimeout(async()=>{if(this.inTeam==2){const n=w(F,"games",this.gameId);await N(n,{t2card:!0})}},200*t);for(let n=0;n<t;n++)setTimeout(()=>{this.team2Index=(this.team2Index+1)%40,this.moveToIndex(2,this.team2Index),n==t-1&&(this.team2IndexFinal=this.team2Index)},n*200)},2e3)},animateScoreUpdate(e,t){if(e==1){let n=t-this.team1Score;this.team1Score=t;let o=Math.abs(n);document.getElementById("score1").style.fontSize="22px";for(let a=0;a<o;a++)setTimeout(()=>{a<o-1?n>0?this.team1ScoreDisplayed=this.team1ScoreDisplayed+1:this.team1ScoreDisplayed=this.team1ScoreDisplayed-1:(n>0?this.team1ScoreDisplayed=this.team1ScoreDisplayed+1:this.team1ScoreDisplayed=this.team1ScoreDisplayed-1,this.t1score=this.team1ScoreDisplayed,document.getElementById("score1").style.fontSize="15px")},a*1)}if(e==2){let n=t-this.team2Score;this.team2Score=t;let o=Math.abs(n);document.getElementById("score2").style.fontSize="22px";for(let a=0;a<o;a++)setTimeout(()=>{n>0?this.team2ScoreDisplayed=this.team2ScoreDisplayed+1:this.team2ScoreDisplayed=this.team2ScoreDisplayed-1,a==o-1&&(this.t2score=this.team2ScoreDisplayed,document.getElementById("score2").style.fontSize="15px")},a*1)}},async onCloseFunc(e){if(this.updateCoordinates(),console.log("fick en summa",e),this.inTeam==1){let t=this.team1Score+e;const n=w(F,"games",this.gameId);await N(n,{t1card:!1,t1score:t})}else if(this.inTeam==2){let t=this.team2Score+e;const n=w(F,"games",this.gameId);await N(n,{t2card:!1,t2score:t})}},async registerPosition(e){console.log("position:",e.coords.latitude),console.log("position:",e.coords.longitude);let t=[e.coords.latitude,e.coords.longitude];const n=w(F,"games",this.gameId);if(this.inTeam==1){await N(n,{t1coords:t}),this.team1coords=t;const o=w(F,"games",this.gameId),a=await V(o);a.exists()&&(this.team2coords=a.data().t2coords)}if(this.inTeam==2){await N(n,{t2coords:t}),this.team2coords=t;const o=w(F,"games",this.gameId),a=await V(o);a.exists()&&(this.team1coords=a.data().t1coords)}},async setToEnded(){const e=w(F,"games",this.gameId);await N(e,{ended:!0})},displayEnded(){this.team1Score>this.team2Score?this.winner="STRYKJ\xC4RNEN":this.winner="FINGERBORGARNA",this.showWinner=!0,this.$confetti.start({particlesPerFrame:2.75,defaultDropRate:9,windSpeedMax:.3}),setTimeout(()=>{this.$confetti.end()},2e3),this.showCard=!1,this.ended=!0},goToHome(){this.$router.push("/home")},displayMinimap(){this.showMinimap=!0,this.updateCoordinates()},updateCoordinates(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(this.registerPosition)},hideMinimap(){this.updateCoordinates(),console.log("borde g\xF6mma"),this.showMinimap=!1,console.log(this.showMinimap)}},async mounted(){let e=ct().currentUser.uid;const t=w(F,"users",e),n=await V(t);n.exists()?(console.log(n.data()),n.data().team=="1"?this.inTeam=1:n.data().team=="2"&&(this.inTeam=2)):console.log("No such document!");const o=w(F,"games",this.gameId),a=await V(o);if(n.exists()?(this.team1Index=a.data().t1position,this.team1IndexFinal=this.team1Index,this.team2Index=a.data().t2position,this.team2IndexFinal=this.team2Index,this.team1Score=a.data().t1score,this.team1ScoreDisplayed=this.team1Score,this.team2Score=a.data().t2score,this.team2ScoreDisplayed=this.team2Score,this.endDate=a.data().endDate,this.ended=a.data().ended,console.log(a.data())):console.log("No such document!"),console.log(this.team1Index),this.moveToIndex(1,this.team1Index),this.moveToIndex(2,this.team2Index),this.inTeam==1?this.currentMove=this.team1Index:this.inTeam==2&&(this.currentMove=this.team2Index),this.ended)this.displayEnded();else{let i=new Date(this.endDate),r=new Date;if(i-r>0){let p=setInterval(()=>{var b=new Date,d=Math.floor((i-b)/1e3);d<=0&&(this.setToEnded(),clearInterval(p));var l=Math.floor(d/3600),g=Math.floor((d-l*3600)/60);d=d-l*3600-g*60,g<10&&(g="0"+g.toString()),d<10&&(d="0"+d.toString()),this.timeLeft=l.toString()+":"+g.toString()+":"+d.toString()},1e3)}}ht(w(F,"games",this.gameId),i=>{if(this.team1Score!=i.data().t1score?this.animateScoreUpdate(1,i.data().t1score):this.team2Score!=i.data().t2score&&(console.log("rimligt"),this.animateScoreUpdate(2,i.data().t2score)),console.log("nu \xE4ndrades coords!"),this.team1coords=i.data().t1coords,this.team2coords=i.data().t2coords,this.inTeam==1){if(this.showCard==!1&&i.data().t1card==!0&&(this.showDice=!1),this.showCard=i.data().t1card,this.showDiceButton=!i.data().t1card,this.team1IndexFinal!=i.data().t1position){this.showDiceButton=!1;var r;i.data().t1position>this.team1IndexFinal?r=i.data().t1position-this.team1IndexFinal:r=i.data().t1position+40-this.team1IndexFinal,this.team1IndexFinal=i.data().t1position,this.showDiceButton=!1,this.showDice=!0,this.animateMove(1,r),this.currentMove=(this.team1Index+r)%40}if(this.team2IndexFinal!=i.data().t2position){var r;i.data().t2position>this.team2IndexFinal?r=i.data().t2position-this.team2IndexFinal:r=i.data().t2position+40-this.team2IndexFinal,this.team2IndexFinal=i.data().t2position,this.animateMove(2,r)}}else if(this.inTeam==2){if(this.showCard==!1&&i.data().t2card==!0&&(this.showDice=!1),this.showCard=i.data().t2card,this.showDiceButton=!i.data().t2card,this.team2IndexFinal!=i.data().t2position){this.showDiceButton=!1;var r;i.data().t2position>this.team2IndexFinal?r=i.data().t2position-this.team2IndexFinal:r=i.data().t2position+40-this.team2IndexFinal,this.team2IndexFinal=i.data().t2position,this.showDiceButton=!1,this.showDice=!0,this.animateMove(2,r),this.currentMove=(this.team2Index+r)%40}if(this.team1IndexFinal!=i.data().t1position){var r;i.data().t1position>this.team1IndexFinal?r=i.data().t1position-this.team1IndexFinal:r=i.data().t1position+40-this.team1IndexFinal,this.team1IndexFinal=i.data().t1position,this.animateMove(1,r)}}i.data().ended&&(this.ended=!0,this.displayEnded())}),this.updateCoordinates()},components:{Minimap:Mt,Gatukort:It,Dice:At,Dice2:Pt}},C=e=>(nt("data-v-eea9d5f8"),e=e(),st(),e),jt=C(()=>c("span",{class:"material-symbols-outlined"}," arrow_back ",-1)),Kt=[jt],Jt=C(()=>c("span",{style:{width:"24px",height:"24px",top:"1px",right:"3px",color:"white"},class:"material-symbols-outlined"}," map ",-1)),Qt=[Jt],te={class:"scoreSquare"},ee={style:{display:"flex","flex-direction":"row"}},ne={class:"teamTitle"},se=C(()=>c("div",{class:"headerText",style:{"background-color":"rgb(200, 30, 30)"}},"STRYKJ\xC4RNEN",-1)),ie={class:"scoreStyle",id:"score1"},ae={class:"teamTitle"},oe=C(()=>c("div",{class:"headerText",style:{"background-color":"rgb(30, 30, 200)"}},"FINGERBORGARNA",-1)),re={class:"scoreStyle",id:"score2"},de={class:"timeBoard"},le={class:"gamepage"},ce={key:0,class:"winnerBox"},he={class:"winnerText"},me=C(()=>c("br",null,null,-1)),pe={class:"spelplanssquare"},ge={key:0,class:"diceBox"},ue=["disabled"],fe=C(()=>c("img",{id:"team1",class:"square0",src:Xt},null,-1)),be=C(()=>c("img",{id:"team2",class:"square0",src:Zt},null,-1)),ve=C(()=>c("img",{id:"spelplan",src:zt},null,-1));function _e(e,t,n,o,a,i){const r=G("Minimap"),p=G("Gatukort"),b=G("Dice"),d=G("Dice2");return f(),v(mt,null,[c("button",{type:"button",class:"btn btn-outline-secondary btn-sm",style:{height:"35px",width:"35px",position:"absolute",top:"0px",left:"0px"},onClick:t[0]||(t[0]=(...l)=>i.goToHome&&i.goToHome(...l))},Kt),c("button",{type:"button",class:"btn btn-outline-secondary btn-sm",style:{height:"35px",width:"35px","background-color":"green",position:"absolute",top:"0px",left:"44px"},onClick:t[1]||(t[1]=l=>i.displayMinimap())},Qt),c("div",te,[c("div",ee,[c("div",ne,[se,c("div",ie,D(this.team1ScoreDisplayed),1)]),c("div",ae,[oe,c("div",re,D(this.team2ScoreDisplayed),1)])])]),c("div",de," \xC5terst\xE5ende tid: "+D(this.timeLeft),1),O(P,{name:"bounce"},{default:H(()=>[a.showMinimap?(f(),Y(r,{key:"1",team1coords:this.team1coords,team2coords:this.team2coords,hideFunc:this.hideMinimap},null,8,["team1coords","team2coords","hideFunc"])):k("",!0)]),_:1}),c("div",le,[O(P,{name:"bounce"},{default:H(()=>[this.showCard?(f(),Y(p,{key:"1",style:{position:"fixed",margin:"0 auto",top:"calc(50vh - 100px)","z-index":"20"},streetindex:this.currentMove,onClose:this.onCloseFunc},null,8,["streetindex","onClose"])):k("",!0)]),_:1}),O(P,{name:"winner"},{default:H(()=>[this.showWinner?(f(),v("div",ce,[c("div",he,[j("And the winner is"),me,j(D(this.winner)+"!",1)])])):k("",!0)]),_:1}),c("div",pe,[this.showDice?(f(),v("div",ge,[O(b,{style:{transform:"scale(0.2)"},randomval:this.randomval1},null,8,["randomval"]),O(d,{style:{transform:"scale(0.2)"},randomval:this.randomval2},null,8,["randomval"])])):k("",!0),a.showDiceButton?(f(),v("button",{key:1,disabled:this.ended,onClick:t[2]||(t[2]=l=>this.changeMove()),id:"diceButton",type:"button",class:"btn btn-danger"},"L\xC5T OSS FESTA",8,ue)):k("",!0),fe,be,ve])])],64)}const xe=A(Yt,[["render",_e],["__scopeId","data-v-eea9d5f8"]]);export{xe as default};
